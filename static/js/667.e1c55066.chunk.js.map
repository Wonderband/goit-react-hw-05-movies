{"version":3,"file":"static/js/667.e1c55066.chunk.js","mappings":"4OAMe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MAIjB,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,CAAEC,MAAO,KAAjE,eAAOC,EAAP,KAAqBC,EAArB,KAGMC,EAAQF,EAAaG,IAAI,SAC/BC,QAAQC,IAAIH,GAyBZ,OARAI,EAAAA,EAAAA,YAAU,WACHJ,IAELK,EAAAA,EAAAA,IAAkBL,GACfM,MAAK,SAAAC,GAAG,OAAIZ,EAAcY,EAAlB,IACRC,OAAM,SAAAC,GAAG,OAAIP,QAAQC,IAAIM,EAAhB,GACb,GAAE,CAACT,KAGF,iCACE,wCACA,kBAAMU,SAzBW,SAAAC,GACnBA,EAAEC,iBAEFb,EAAgB,CAAEF,MAAOc,EAAEE,cAAcC,MAAMC,OAChD,EAqBG,WACE,kBAAOC,KAAK,OAAOC,KAAK,WACxB,mBAAQD,KAAK,SAAb,wBAQF,wBACGtB,EAAWwB,KAAI,SAAAC,GAAK,OACnB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMhC,GAAhD,SACG4B,EAAMK,SAFFL,EAAME,GADI,QAU5B,C","sources":["pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport { getSearchedMovies } from 'service/fetchMovies';\n\nexport default function MoviesPage() {\n  const location = useLocation();\n  // console.log(location);\n\n  // const [searchMovie, setSearchMovie] = useState('');\n  const [moviesList, setMoviesList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams({ query: '' });\n\n  // setSearchMovie(searchParams.get('query'));\n  const qwery = searchParams.get('query');\n  console.log(qwery);\n  // if (qwe.length > 0) setSearchMovie(qwe);\n  // setSearchMovie(qwe);\n  const handleSubmit = e => {\n    e.preventDefault();\n    // setSearchMovie(e.currentTarget.input.value);\n    setSearchParams({ query: e.currentTarget.input.value });\n  };\n\n  // useEffect(() => {\n  //   if (searchMovie === '') return;\n  //   // changeUrlParams();\n  //   getSearchedMovies(searchMovie)\n  //     .then(res => setMoviesList(res))\n  //     .catch(err => console.log(err));\n  // }, [searchMovie]);\n\n  useEffect(() => {\n    if (!qwery) return;\n    // changeUrlParams();\n    getSearchedMovies(qwery)\n      .then(res => setMoviesList(res))\n      .catch(err => console.log(err));\n  }, [qwery]);\n\n  return (\n    <>\n      <h2>MoviesPage</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"input\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {/* <NavLink to=\"666\" state={{ from: location }}>\n        details\n      </NavLink> */}\n      {/* {console.log(moviesList)}\n      {console.log(searchMovie)}\n      {console.log(searchParams.query)} */}\n      <ul>\n        {moviesList.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n"],"names":["MoviesPage","location","useLocation","useState","moviesList","setMoviesList","useSearchParams","query","searchParams","setSearchParams","qwery","get","console","log","useEffect","getSearchedMovies","then","res","catch","err","onSubmit","e","preventDefault","currentTarget","input","value","type","name","map","movie","to","id","state","from","title"],"sourceRoot":""}